// Code generated by protoc-gen-go-http. DO NOT EDIT.
// versions:
// - protoc-gen-go-http v2.9.2
// - protoc             (unknown)
// source: sharing/service/v1/share.proto

package sharingpb

import (
	context "context"
	http "github.com/go-kratos/kratos/v2/transport/http"
	binding "github.com/go-kratos/kratos/v2/transport/http/binding"
	emptypb "google.golang.org/protobuf/types/known/emptypb"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the kratos package it is being compiled against.
var _ = new(context.Context)
var _ = binding.EncodeURL

const _ = http.SupportPackageIsVersion1

const OperationSharingShareServiceCreateShare = "/sharing.service.v1.SharingShareService/CreateShare"
const OperationSharingShareServiceCreateSharePolicy = "/sharing.service.v1.SharingShareService/CreateSharePolicy"
const OperationSharingShareServiceDeleteSharePolicy = "/sharing.service.v1.SharingShareService/DeleteSharePolicy"
const OperationSharingShareServiceGetShare = "/sharing.service.v1.SharingShareService/GetShare"
const OperationSharingShareServiceListSharePolicies = "/sharing.service.v1.SharingShareService/ListSharePolicies"
const OperationSharingShareServiceListShares = "/sharing.service.v1.SharingShareService/ListShares"
const OperationSharingShareServiceRevokeShare = "/sharing.service.v1.SharingShareService/RevokeShare"
const OperationSharingShareServiceViewSharedContent = "/sharing.service.v1.SharingShareService/ViewSharedContent"

type SharingShareServiceHTTPServer interface {
	// CreateShare Create a new share (sends email with one-time link)
	CreateShare(context.Context, *CreateShareRequest) (*CreateShareResponse, error)
	// CreateSharePolicy Create a policy restriction for a share link
	CreateSharePolicy(context.Context, *CreateSharePolicyRequest) (*CreateSharePolicyResponse, error)
	// DeleteSharePolicy Delete a policy restriction
	DeleteSharePolicy(context.Context, *DeleteSharePolicyRequest) (*emptypb.Empty, error)
	// GetShare Get a share by ID
	GetShare(context.Context, *GetShareRequest) (*GetShareResponse, error)
	// ListSharePolicies List policy restrictions for a share link
	ListSharePolicies(context.Context, *ListSharePoliciesRequest) (*ListSharePoliciesResponse, error)
	// ListShares List shares for the current tenant
	ListShares(context.Context, *ListSharesRequest) (*ListSharesResponse, error)
	// RevokeShare Revoke a share (invalidate the link)
	RevokeShare(context.Context, *RevokeShareRequest) (*emptypb.Empty, error)
	// ViewSharedContent View shared content (used by HTTP public endpoint internally)
	ViewSharedContent(context.Context, *ViewSharedContentRequest) (*ViewSharedContentResponse, error)
}

func RegisterSharingShareServiceHTTPServer(s *http.Server, srv SharingShareServiceHTTPServer) {
	r := s.Route("/")
	r.POST("/v1/shares", _SharingShareService_CreateShare0_HTTP_Handler(srv))
	r.GET("/v1/shares/{id}", _SharingShareService_GetShare0_HTTP_Handler(srv))
	r.GET("/v1/shares", _SharingShareService_ListShares0_HTTP_Handler(srv))
	r.DELETE("/v1/shares/{id}", _SharingShareService_RevokeShare0_HTTP_Handler(srv))
	r.GET("/v1/shared/{token}", _SharingShareService_ViewSharedContent0_HTTP_Handler(srv))
	r.POST("/v1/shares/{share_link_id}/policies", _SharingShareService_CreateSharePolicy0_HTTP_Handler(srv))
	r.GET("/v1/shares/{share_link_id}/policies", _SharingShareService_ListSharePolicies0_HTTP_Handler(srv))
	r.DELETE("/v1/shares/{share_link_id}/policies/{id}", _SharingShareService_DeleteSharePolicy0_HTTP_Handler(srv))
}

func _SharingShareService_CreateShare0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CreateShareRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceCreateShare)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CreateShare(ctx, req.(*CreateShareRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CreateShareResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_GetShare0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetShareRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceGetShare)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetShare(ctx, req.(*GetShareRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetShareResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_ListShares0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ListSharesRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceListShares)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ListShares(ctx, req.(*ListSharesRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ListSharesResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_RevokeShare0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in RevokeShareRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceRevokeShare)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.RevokeShare(ctx, req.(*RevokeShareRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*emptypb.Empty)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_ViewSharedContent0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ViewSharedContentRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceViewSharedContent)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ViewSharedContent(ctx, req.(*ViewSharedContentRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ViewSharedContentResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_CreateSharePolicy0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CreateSharePolicyRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceCreateSharePolicy)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CreateSharePolicy(ctx, req.(*CreateSharePolicyRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CreateSharePolicyResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_ListSharePolicies0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ListSharePoliciesRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceListSharePolicies)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ListSharePolicies(ctx, req.(*ListSharePoliciesRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ListSharePoliciesResponse)
		return ctx.Result(200, reply)
	}
}

func _SharingShareService_DeleteSharePolicy0_HTTP_Handler(srv SharingShareServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in DeleteSharePolicyRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSharingShareServiceDeleteSharePolicy)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.DeleteSharePolicy(ctx, req.(*DeleteSharePolicyRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*emptypb.Empty)
		return ctx.Result(200, reply)
	}
}

type SharingShareServiceHTTPClient interface {
	// CreateShare Create a new share (sends email with one-time link)
	CreateShare(ctx context.Context, req *CreateShareRequest, opts ...http.CallOption) (rsp *CreateShareResponse, err error)
	// CreateSharePolicy Create a policy restriction for a share link
	CreateSharePolicy(ctx context.Context, req *CreateSharePolicyRequest, opts ...http.CallOption) (rsp *CreateSharePolicyResponse, err error)
	// DeleteSharePolicy Delete a policy restriction
	DeleteSharePolicy(ctx context.Context, req *DeleteSharePolicyRequest, opts ...http.CallOption) (rsp *emptypb.Empty, err error)
	// GetShare Get a share by ID
	GetShare(ctx context.Context, req *GetShareRequest, opts ...http.CallOption) (rsp *GetShareResponse, err error)
	// ListSharePolicies List policy restrictions for a share link
	ListSharePolicies(ctx context.Context, req *ListSharePoliciesRequest, opts ...http.CallOption) (rsp *ListSharePoliciesResponse, err error)
	// ListShares List shares for the current tenant
	ListShares(ctx context.Context, req *ListSharesRequest, opts ...http.CallOption) (rsp *ListSharesResponse, err error)
	// RevokeShare Revoke a share (invalidate the link)
	RevokeShare(ctx context.Context, req *RevokeShareRequest, opts ...http.CallOption) (rsp *emptypb.Empty, err error)
	// ViewSharedContent View shared content (used by HTTP public endpoint internally)
	ViewSharedContent(ctx context.Context, req *ViewSharedContentRequest, opts ...http.CallOption) (rsp *ViewSharedContentResponse, err error)
}

type SharingShareServiceHTTPClientImpl struct {
	cc *http.Client
}

func NewSharingShareServiceHTTPClient(client *http.Client) SharingShareServiceHTTPClient {
	return &SharingShareServiceHTTPClientImpl{client}
}

// CreateShare Create a new share (sends email with one-time link)
func (c *SharingShareServiceHTTPClientImpl) CreateShare(ctx context.Context, in *CreateShareRequest, opts ...http.CallOption) (*CreateShareResponse, error) {
	var out CreateShareResponse
	pattern := "/v1/shares"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSharingShareServiceCreateShare))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// CreateSharePolicy Create a policy restriction for a share link
func (c *SharingShareServiceHTTPClientImpl) CreateSharePolicy(ctx context.Context, in *CreateSharePolicyRequest, opts ...http.CallOption) (*CreateSharePolicyResponse, error) {
	var out CreateSharePolicyResponse
	pattern := "/v1/shares/{share_link_id}/policies"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSharingShareServiceCreateSharePolicy))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// DeleteSharePolicy Delete a policy restriction
func (c *SharingShareServiceHTTPClientImpl) DeleteSharePolicy(ctx context.Context, in *DeleteSharePolicyRequest, opts ...http.CallOption) (*emptypb.Empty, error) {
	var out emptypb.Empty
	pattern := "/v1/shares/{share_link_id}/policies/{id}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceDeleteSharePolicy))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "DELETE", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetShare Get a share by ID
func (c *SharingShareServiceHTTPClientImpl) GetShare(ctx context.Context, in *GetShareRequest, opts ...http.CallOption) (*GetShareResponse, error) {
	var out GetShareResponse
	pattern := "/v1/shares/{id}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceGetShare))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ListSharePolicies List policy restrictions for a share link
func (c *SharingShareServiceHTTPClientImpl) ListSharePolicies(ctx context.Context, in *ListSharePoliciesRequest, opts ...http.CallOption) (*ListSharePoliciesResponse, error) {
	var out ListSharePoliciesResponse
	pattern := "/v1/shares/{share_link_id}/policies"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceListSharePolicies))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ListShares List shares for the current tenant
func (c *SharingShareServiceHTTPClientImpl) ListShares(ctx context.Context, in *ListSharesRequest, opts ...http.CallOption) (*ListSharesResponse, error) {
	var out ListSharesResponse
	pattern := "/v1/shares"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceListShares))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// RevokeShare Revoke a share (invalidate the link)
func (c *SharingShareServiceHTTPClientImpl) RevokeShare(ctx context.Context, in *RevokeShareRequest, opts ...http.CallOption) (*emptypb.Empty, error) {
	var out emptypb.Empty
	pattern := "/v1/shares/{id}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceRevokeShare))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "DELETE", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ViewSharedContent View shared content (used by HTTP public endpoint internally)
func (c *SharingShareServiceHTTPClientImpl) ViewSharedContent(ctx context.Context, in *ViewSharedContentRequest, opts ...http.CallOption) (*ViewSharedContentResponse, error) {
	var out ViewSharedContentResponse
	pattern := "/v1/shared/{token}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSharingShareServiceViewSharedContent))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}
